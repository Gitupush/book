# NOTE: When installing, please, update this file with the correct subdomain!

ingress:
  internal:
    annotations: 
      kubernetes.io/ingress.class: alb
      alb.ingress.kubernetes.io/scheme: internal
      alb.ingress.kubernetes.io/actions.redirect: "{\"Type\": \"redirect\", \"RedirectConfig\": {\"Protocol\": \"HTTP\", \"Port\": \"80\", \"StatusCode\": \"HTTP_301\"}}"
      alb.ingress.kubernetes.io/listen-ports: "[{\"HTTP\":80}]"
      alb.ingress.kubernetes.io/load-balancer-attributes: "idle_timeout.timeout_seconds=360"
    path: /
    hosts:
      - hostname: renting-api.dev.techenvision.net
        serviceName: bookstore-renting-api-service
        port: 80
      
      - hostname: resource-api.dev.techenvision.net
        serviceName: bookstore-resource-api-service
        port: 80
      
      - hostname: inventory-api.dev.techenvision.net
        serviceName: bookstore-inventory-api-service
        port: 80

      - hostname: clients-api.dev.techenvision.net
        serviceName: bookstore-clients-api-service
        port: 80

      
  external:
    annotations: 
      kubernetes.io/ingress.class: alb
      alb.ingress.kubernetes.io/scheme: internet-facing
      alb.ingress.kubernetes.io/actions.redirect: "{\"Type\": \"redirect\", \"RedirectConfig\": {\"Protocol\": \"HTTP\", \"Port\": \"80\", \"StatusCode\": \"HTTP_301\"}}"
      alb.ingress.kubernetes.io/listen-ports: "[{\"HTTP\":80,\"HTTPS\": 443}]"
      alb.ingress.kubernetes.io/load-balancer-attributes: "idle_timeout.timeout_seconds=360"
    path: /
    hosts:
      - hostname: bookstore.dev.techenvision.net
        serviceName: bookstore-front-end-service
        port: 80

      - hostname: api.dev.techenvision.net
        serviceName: bookstore-front-end-service-proxy
        port: 80
